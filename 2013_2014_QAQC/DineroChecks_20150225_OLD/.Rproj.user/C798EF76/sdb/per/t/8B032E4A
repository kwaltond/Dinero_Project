{
    "contents" : "library(plyr)\nbegin.date <- \"2013-01-01\"\nend.date <- \"2014-12-31\"\n\nblanks <- subset(qw.data$PlotTable, MEDIUM_CD == \"OAQ\" & \n\t\t\t\t\t\t\t\t \tSAMPLE_START_DT >= as.POSIXct(begin.date) &\n\t\t\t\t\t\t\t\t \tSAMPLE_START_DT <= as.POSIXct(end.date) &\n\t\t\t\t\t\t\t\t \tPARM_SEQ_GRP_CD !=\"INF\" &\n\t\t\t\t\t\t\t\t \tPARM_SEQ_GRP_CD != \"PHY\")\n\n#blankDetects <- subset(blanks,REMARK_CD != \"<\")\n#blankDetects$flags <- \"\"\n#blankDetects$flags[which(blankDetects$RESULT_VA >= 10*as.numeric(blankDetects$RPT_LEV_VA))] <- \"Detection >= 10xLRL\"\n\nblankSummary <- data.frame(PARM_CD = unique(blanks$PARM_CD))\nblankSummary <- join(blankSummary, blanks[c(\"PARM_CD\",\"PARM_SEQ_GRP_CD\",\"PARM_DS\",\"RPT_LEV_VA\")],by=\"PARM_CD\")\nblankSummary <- unique(blankSummary)\n\nsummary <- ddply(blanks, \"PARM_CD\", summarize,\n\t\t\tnum_blanks = length(RESULT_VA),\n\t\t\tnum_detects = length(RESULT_VA[which(REMARK_CD == \"Sample\")]),\n\t\t\tnum_e_detects = length(RESULT_VA[which(REMARK_CD == \"E\")]),\n\t\t\tnum_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == \"Sample\")]),\n\t\t\tmedian_detected_value = median(RESULT_VA[which(REMARK_CD == \"Sample\")]),\n\t\t\tmax_detected_value = max(RESULT_VA[which(REMARK_CD == \"Sample\")],na.rm=TRUE),\n\t\t\tBD_90.90 = BD9090(RESULT_VA[which(REMARK_CD == \"Sample\")]))\n\nblankSummary <- join (blankSummary,summary,by=\"PARM_CD\")\n\t\nblankSummary <-blankSummary[with(blankSummary, order(PARM_SEQ_GRP_CD, PARM_CD)), ]\n\n\nwrite.table(blankSummary,file=\"blankSummary.txt\",row.names=FALSE,quote=FALSE,sep=\"\\t\")\n",
    "created" : 1424874295143.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1781255522",
    "id" : "8B032E4A",
    "lastKnownWriteTime" : 1425052142,
    "path" : "Z:/tmills/Dinero/2013_2014/2013_2014_QAQC/DineroChecks_20150225_OLD/blankSummary.R",
    "project_path" : "blankSummary.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}