num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")]),
BD_90.90 = BD9090)
warnings()
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090)
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(na.omit(RESULT_VA[which(REMARK_CD == "Sample")])),
BD_90.90 = BD9090)
warnings()
View(summary)
View(summary)
###
BD9090 <- function(...){
bdData <- as.data.frame(RESULT_VA[REMARK_CD=="Sample"])
if
{
bdData$rank <- rank(bdData$RESULT_VA,ties.method="first")
bd9090 <- bdData$RESULT_VA[which(bdData$rank == qbinom(0.9,length(bdData$RESULT_VA),0.9))]
return(bd9090)
} else{return(NA)}
}
BD9090 <- function(...){
bdData <- as.data.frame(RESULT_VA[REMARK_CD=="Sample"])
if (length(bdData >0))
{
bdData$rank <- rank(bdData$RESULT_VA,ties.method="first")
bd9090 <- bdData$RESULT_VA[which(bdData$rank == qbinom(0.9,length(bdData$RESULT_VA),0.9))]
return(bd9090)
} else{return(NA)}
}
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090)
View(blankSummary)
View(summary)
RESULT_VA <- blanks$RESULT_VA[which(blanks$PARM_CD == "00940")]
RESULT_VA <- blanks$RESULT_VA[which(blanks$PARM_CD == "00940" & REMARK_CD=="Sample")]
RESULT_VA <- blanks$RESULT_VA[which(blanks$PARM_CD == "00940" & blanks$REMARK_CD=="Sample")]
bdData <- as.data.frame(RESULT_VA[REMARK_CD=="Sample"])
bdData <- as.data.frame(RESULT_VA)
if (length(bdData >0))
{
bdData$rank <- rank(bdData$RESULT_VA,ties.method="first")
bd9090 <- bdData$RESULT_VA[which(bdData$rank == qbinom(0.9,length(bdData$RESULT_VA),0.9))]
return(bd9090)
} else{return(NA)}
bdData$rank <- rank(bdData$RESULT_VA,ties.method="first")
bd9090 <- bdData$RESULT_VA[which(bdData$rank == qbinom(0.9,length(bdData$RESULT_VA),0.9))]
return(bd9090)
RESULT_VA <- blanks$RESULT_VA[which(blanks$PARM_CD == "00940" & blanks$REMARK_CD=="Sample")]
bdData <- as.data.frame(RESULT_VA)
bdData$rank <- rank(bdData$RESULT_VA,ties.method="first")
bd9090 <- bdData$RESULT_VA[which(bdData$rank == qbinom(0.9,length(bdData$RESULT_VA),0.9))]
length(bdData >0)
BD9090 <- function(...){
blanks$RESULT_VA[which(blanks$REMARK_CD=="Sample")]
bdData <- as.data.frame(blanks$RESULT_VA[which(blanks$REMARK_CD=="Sample")])
###
bdData <- as.data.frame(RESULT_VA[REMARK_CD=="Sample"])
bdData$rank <- rank(bdData$RESULT_VA,ties.method="first")
bd9090 <- bdData$RESULT_VA[which(bdData$rank == qbinom(0.9,length(bdData$RESULT_VA),0.9))]
return(bd9090)
}
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090)
class(bd9090)
type(bd9090)
mode(bd9090)
length(bd9090)
BD9090 <- function(...){
blanks$RESULT_VA[which(blanks$REMARK_CD=="Sample")]
bdData <- as.data.frame(blanks$RESULT_VA[which(blanks$REMARK_CD=="Sample")])
###
bdData <- as.data.frame(RESULT_VA[REMARK_CD=="Sample"])
bdData$rank <- rank(bdData$RESULT_VA,ties.method="first")
bd9090 <- bdData$RESULT_VA[which(bdData$rank == qbinom(0.9,length(bdData$RESULT_VA),0.9))]
if(length(bd9090 >0))
{
return(bd9090)
} else{return(NA)}
}
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090)
warnings()
BD9090 <- function(x){
bdData <- as.data.frame(x$RESULT_VA[which(x$REMARK_CD=="Sample")])
bdData$rank <- rank(bdData$RESULT_VA,ties.method="first")
bd9090 <- bdData$RESULT_VA[which(bdData$rank == qbinom(0.9,length(bdData$RESULT_VA),0.9))]
if(length(bd9090 >0))
{
return(bd9090)
} else{return(NA)}
}
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090)
BD9090(blanks)
BD9090 <- function(x){
x$rank <- rank(bdData$RESULT_VA,ties.method="first")
bd9090 <- x$RESULT_VA[which(x$rank == qbinom(0.9,length(x$RESULT_VA),0.9))]
if(length(bd9090 >0))
{
return(bd9090)
} else{return(NA)}
}
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090)
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = function(x){
x$rank <- rank(bdData$RESULT_VA,ties.method="first")
bd9090 <- x$RESULT_VA[which(x$rank == qbinom(0.9,length(x$RESULT_VA),0.9))]
if(length(bd9090 >0))
{
return(bd9090)
} else{return(NA)}
})
BD9090 <- function(x){
data <- x
data$rank <- rank(data$RESULT_VA,ties.method="first")
bd9090 <- data$RESULT_VA[which(data$rank == qbinom(0.9,length(data$RESULT_VA),0.9))]
return(bd9090)
}
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090)
blanktest <- subset(blanks,PARM_CD %in% c("00930","00940"))
summary <- ddply(blanktest, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = function(x){
data <- x
data$rank <- rank(data$RESULT_VA,ties.method="first")
bd9090 <- data$RESULT_VA[which(data$rank == qbinom(0.9,length(data$RESULT_VA),0.9))]
return(bd9090)
})
blanktest <- subset(blanks,PARM_CD %in% c("00930"))
summary <- ddply(blanktest, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = function(x){
data <- x
data$rank <- rank(data$RESULT_VA,ties.method="first")
bd9090 <- data$RESULT_VA[which(data$rank == qbinom(0.9,length(data$RESULT_VA),0.9))]
return(bd9090)
})
View(summary)
View(summary)
summary <- ddply(blanktest, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = function(x){
data <- x
data$rank <- rank(data$RESULT_VA,ties.method="first")
bd9090 <- data$RESULT_VA[which(data$rank == qbinom(0.9,length(data$RESULT_VA),0.9))]
return(bd9090)
})
View(summary)
summary
summary <- ddply(blanktest, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090)
View(summary)
summary
summary <- ddply(blanktest, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090())
summary <- ddply(blanktest, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090(blanks))
View(summary)
summary <- ddply(blanktest, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090)
View(summary)
summary <- as.data.frame(summary)
View(summary)
summary
BD9090 <- function(x){
data <- x
data$rank <- rank(data$RESULT_VA,ties.method="first")
bd9090 <- data$RESULT_VA[which(data$rank == qbinom(0.9,length(data$RESULT_VA),0.9))]
bd9090
}
summary <- ddply(blanktest, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090)
View(summary)
summary
test <- as.data.frame(bdData$RESULT_VA)
test <- as.data.frame(blanktest$RESULT_VA)
blanktest$RESULT_VA[which(rank(blanktest$RESULT_VA,ties.method="first") == qbinom(0.9,length(blanktest$RESULT_VA),0.9))]
summary <- ddply(blanktest, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = RESULT_VA[which(rank(RESULT_VA,ties.method="first") == qbinom(0.9,length(RESULT_VA),0.9))])
View(summary)
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = RESULT_VA[which(rank(RESULT_VA,ties.method="first") == qbinom(0.9,length(RESULT_VA),0.9))])
View(summary)
BD9090 <- function(x){
bd9090 <- RESULT_VA[which(rank(RESULT_VA,ties.method="first") == qbinom(0.9,length(RESULT_VA),0.9))]
return(bd9090)
}
BD9090 <- function(x){
bd9090 <- x[which(rank(x,ties.method="first") == qbinom(0.9,length(x),0.9))]
return(bd9090)
}
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090(RESULT_VA[which(REMARK_CD == "Sample")]))
BD9090 <- function(x){
if(length(x) > 0)
{
bd9090 <- x[which(rank(x,ties.method="first") == qbinom(0.9,length(x),0.9))]
return(bd9090)
}else{return(NA)}
}
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090(RESULT_VA[which(REMARK_CD == "Sample")]))
View(summary)
library(plyr)
begin.date <- "2013-01-01"
end.date <- "2014-12-31"
blanks <- subset(qw.data$PlotTable, MEDIUM_CD == "OAQ" &
SAMPLE_START_DT >= as.POSIXct(begin.date) &
SAMPLE_START_DT <= as.POSIXct(end.date) &
PARM_SEQ_GRP_CD !="INF" &
PARM_SEQ_GRP_CD != "PHY")
blankDetects <- subset(blanks,REMARK_CD != "<")
blankDetects$flags <- ""
blankDetects$flags[which(blankDetects$RESULT_VA >= 10*as.numeric(blankDetects$RPT_LEV_VA))] <- "Detection >= 10xLRL"
blankSummary <- data.frame(PARM_CD = unique(blankDetects$PARM_CD))
blankSummary <- join(blankSummary, blanks[c("PARM_CD","PARM_SEQ_GRP_CD","PARM_DS","RPT_LEV_VA")],by="PARM_CD")
blankSummary <- unique(blankSummary)
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090(RESULT_VA[which(REMARK_CD == "Sample")]))
blankSummary <- join (blankSummary,summary,by="PARM_CD")
View(blankSummary)
blankSummary[with(blankSummary, order(PARM_SEQ_GRP_CD, PARM_CD)), ]
blankSummary <-blankSummary[with(blankSummary, order(PARM_SEQ_GRP_CD, PARM_CD)), ]
View(blankSummary)
blanks <- subset(qw.data$PlotTable, MEDIUM_CD == "OAQ" &
SAMPLE_START_DT >= as.POSIXct(begin.date) &
SAMPLE_START_DT <= as.POSIXct(end.date) &
PARM_SEQ_GRP_CD !="INF" &
PARM_SEQ_GRP_CD != "PHY")
blankSummary <- data.frame(PARM_CD = unique(blankDetects$PARM_CD))
blankSummary <- join(blankSummary, blanks[c("PARM_CD","PARM_SEQ_GRP_CD","PARM_DS","RPT_LEV_VA")],by="PARM_CD")
blankSummary <- unique(blankSummary)
summary <- ddply(blanks, "PARM_CD", summarize,
num_blanks = length(RESULT_VA),
num_detects = length(RESULT_VA[which(REMARK_CD == "Sample")]),
num_e_detects = length(RESULT_VA[which(REMARK_CD == "E")]),
num_detects_10xRL = length(RESULT_VA[which(RESULT_VA >= 10*as.numeric(RPT_LEV_VA) &REMARK_CD == "Sample")]),
median_detected_value = median(RESULT_VA[which(REMARK_CD == "Sample")]),
max_detected_value = max(RESULT_VA[which(REMARK_CD == "Sample")],na.rm=TRUE),
BD_90.90 = BD9090(RESULT_VA[which(REMARK_CD == "Sample")]))
blankSummary <- join (blankSummary,summary,by="PARM_CD")
blankSummary <-blankSummary[with(blankSummary, order(PARM_SEQ_GRP_CD, PARM_CD)), ]
View(blankSummary)
test <- subset(blankSummary,PARM_CD == "00940")
View(summary)
blankSummary <- data.frame(PARM_CD = unique(blankDetects$PARM_CD))
blankSummary <- join(blankSummary, blanks[c("PARM_CD","PARM_SEQ_GRP_CD","PARM_DS","RPT_LEV_VA")],by="PARM_CD")
blankSummary <- unique(blankSummary)
View(blankSummary)
test <- subset(blankSummary, PARM_CD == "00940")
source('~/DineroDataChecks/DineroChecks_20150225/blankSummary.R')
View(blankSummary)
write.table(blankSummary,file="blankSummary.txt",row.names=FALSE,qoute=FALSE,sep="\t")
write.table(blankSummary,file="blankSummary.txt",row.names=FALSE,quote=FALSE,sep="\t")
data <- .guiEnv$qw.data$PlotTable
data_2013_2014 <- subset(.guiEnv$qw.data$PlotTable, SAMPLE_START_DT > as.POSIXct("2013-01-01"))
data <- subset(data_2013_2014, PARM_CD %in% c("01046","00945","00930"))
View(data)
badlrl <- subset(data, RPT_LEV_VA == ".002")
View(badlrl)
badlrl <- subset(data, RPT_LEV_VA == ".02")
View(badlrl)
badlrl <- subset(data, RPT_LEV_VA == ".09")
View(badlrl)
badlrl <- subset(data, RPT_LEV_VA == ".02")
View(badlrl)
View(badlrl)
RA <- FARA$PARM_CD[grep("wu",FARA$PARM_NM,fixed=TRUE)]
FARA <- subset(data_2013_2014,PARM_SEQ_GRP_CD %in% c("INM","IMM"))
RA <- FARA$PARM_CD[grep("wu",FARA$PARM_NM,fixed=TRUE)]
RA <- unique(RA)
RA
View(FARA)
unique(data_2013_2014,PARM_SEQ_GRP_CD)
unique(data_2013_2014$PARM_SEQ_GRP_CD)
FARA <- subset(data_2013_2014,PARM_SEQ_GRP_CD %in% c("INM","IMM","RAD","IMN"))
RA <- FARA$PARM_CD[grep("wu",FARA$PARM_NM,fixed=TRUE)]
RA <- unique(RA)
View(data_2013_2014)
FARA <- subset(data_2013_2014,PARM_SEQ_GRP_CD %in% c("INM","IMM","RAD","IMN","INN"))
RA <- FARA$PARM_CD[grep("wu",FARA$PARM_NM,fixed=TRUE)]
RA <- unique(RA)
RA <- subset(data_2013_2014, METH_CD == "PLM75")
View(RA)
RA <- data_2013_2014$PARM_CD[grep("wu",FARA$PARM_NM,fixed=TRUE)]
RA <- unique(RA)
RA
RA <- data_2013_2014$PARM_NM[grep("wu",FARA$PARM_NM,fixed=TRUE)]
RA <- data_2013_2014$PARM_CD[grep("wu",FARA$PARM_NM,fixed=TRUE)]
RA <- unique(RA)
test <- subset(data_2013_2014, PARM_CD %in% RA)
RA <- data_2013_2014$PARM_CD[grep("wu",data_2013_2014$PARM_NM,fixed=TRUE)]
RA <- unique(RA)
RA
RA <- data_2013_2014$PARM_NM[which(data_2013_2014$PARM_CD %in% RA)]
RA <- unique(RA)
RA
FA <- data_2013_2014$PARM_CD[grep("wf",data_2013_2014$PARM_NM,fixed=TRUE)]
FA <- unique(FA)
FA <- data_2013_2014$PARM_NM[which(data_2013_2014$PARM_CD %in% FA)]
FA <- unique(FA)
FA
unique(data_2013_2014$PARM_NM)
pcodes <- read.csv("pcoderequest.txt")
View(pcodes)
View(pcodes)
pcodes <- read.csv("pcoderequest.txt",header=FALSE,colClasses = "character")
View(pcodes)
RA <- data_2013_2014$PARM_CD[grep("wu",data_2013_2014$PARM_NM,fixed=TRUE)]
RA <- unique(RA)
RA <- data_2013_2014$PARM_NM[which(data_2013_2014$PARM_CD %in% RA)]
RA <- unique(RA)
FA <- data_2013_2014$PARM_CD[grep("wf",data_2013_2014$PARM_NM,fixed=TRUE)]
FA <- unique(FA)
FA <- data_2013_2014$PARM_NM[which(data_2013_2014$PARM_CD %in% FA)]
RA <- data_2013_2014$PARM_CD[grep("wu",data_2013_2014$PARM_NM,fixed=TRUE)]
RA <- unique(RA)
names(pcodes) <- "PARM_CD"
View(pcodes)
ra_compare <- join(RA,pcodes,by="PARM_CD")
RA <- as.data.frame(RA)
View(RA)
names(RA) <- "PARM_CD"
ra_compare <- join(RA,pcodes,by="PARM_CD")
View(ra_compare)
RA_names <- data_2013_2014[c("PARM_CD","PARM_NM"),which(data_2013_2014$PARM_CD %in% RA)]
View(RA_names)
RA_names <- data_2013_2014[which(data_2013_2014$PARM_CD %in% RA),c("PARM_CD","PARM_NM")]
View(RA_names)
RA$PARM_NM <- unique(data_2013_2014$PARM_NM[which(data_2013_2013$PARM_CD %in% RA$PARM_CD)]
RA <- join(RA,data_2013_2014[c("PARM_CD","PARM_NM")],by="PARM_CD")
View(RA)
RA <- unique(RA)
View(RA)
ra_compare <- join(RA,pcodes,by="PARM_CD")
View(ra_compare)
subset(RA,!(PARM_CD %in% pcodes))
missingcodes <- subset(RA,!(PARM_CD %in% pcodes))
View(missingcodes)
View(pcodes)
missingcodes <- subset(RA,!(PARM_CD %in% pcodes$PARM_CD))
View(missingcodes)
View(ra_compare)
View(RA)
write.table(RA,"RAs.txt",row.names=FALSE,quote=FALSE,sep="\t")
library(dataRetrieval) #Load the library
###Type in your analyte of interest, not case sensitive
analyte <- "tin"
#####Run these two lines
parameters <- parameterCdFile
parameters <- readNWISpcode("all")
parameters <- readNWISpCode("all")
ironparms <- parameters[grep(analyte,parameters$parameter_nm,ignore.case=TRUE),]
View(ironparms)
analyte <- "hafnium"
#####Run these two lines
parameters <- readNWISpCode("all")
ironparms <- parameters[grep(analyte,parameters$parameter_nm,ignore.case=TRUE),]
View(ironparms)
FA <- data_2013_2014$PARM_CD[grep("wf",data_2013_2014$PARM_NM,fixed=TRUE)]
FA <- unique(FA)
FA_names <- data_2013_2014$PARM_NM[which(data_2013_2014$PARM_CD %in% FA)]
FA_names <- unique(FA_names)
FA <- as.data.frame(FA)
names(RA) <- "PARM_CD"
FA <- join(FA,data_2013_2014[c("PARM_CD","PARM_NM")],by="PARM_CD")
names(FA) <- "PARM_CD"
FA <- join(FA,data_2013_2014[c("PARM_CD","PARM_NM")],by="PARM_CD")
FA <- unique(FA)
write.table(FA,"FAs.txt",row.names=FALSE,quote=FALSE,sep="\t")
missingcodes <- subset(FA,!(PARM_CD %in% pcodes$PARM_CD))
readNWISpcode
readNWISpCode
qwdata <- subset(data_2013_2014,SITE_NO == "391500106224901")
View(qwdata)
qwdata <- subset(data_2013_2014,SITE_NO == "391443106225701")
View(qwdata)
qwdata <- subset(data_2013_2014,RECORD_NO == "01305854")
View(qwdata)
